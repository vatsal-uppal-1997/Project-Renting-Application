(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(45)},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(19),r=a.n(i),s=a(3),c=a(4),o=a(7),u=a(5),d=a(6),m=a(2),h=(a(8),a(9)),b=a.n(h),p=a(1),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:""},a.setUser=a.setUser.bind(Object(m.a)(Object(m.a)(a))),a.setPassword=a.setPassword.bind(Object(m.a)(Object(m.a)(a))),a.submitLogin=a.submitLogin.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({username:e.target.value})}},{key:"setPassword",value:function(e){this.setState({password:e.target.value})}},{key:"submitLogin",value:function(e){var t=this;if(!(Object.values(this.state).indexOf("")>=0)){var a=new URLSearchParams;a.append("json",JSON.stringify(this.state)),b.a.post("Landing",a).then(function(e){"User Verified"===e.data.message&&t.props.login(t.state.username,e.data.uid)})}}},{key:"render",value:function(){return l.a.createElement(p.Container,null,l.a.createElement("form",null,l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Username"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",name:"username",placeholder:"Username",onChange:this.setUser}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Password"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"password",name:"password",placeholder:"Password",onChange:this.setPassword}))),l.a.createElement(p.Field,null,l.a.createElement(p.Control,null,l.a.createElement(p.Button,{isColor:"primary",onClick:this.submitLogin},"Submit")))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",email:"",mobile:"",locality:"",confirm:""},a.email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a.mobile=/^\d{10}$/,a.checkUser=a.checkUser.bind(Object(m.a)(Object(m.a)(a))),a.checkEmail=a.checkEmail.bind(Object(m.a)(Object(m.a)(a))),a.checkPassword=a.checkPassword.bind(Object(m.a)(Object(m.a)(a))),a.setUser=a.setUser.bind(Object(m.a)(Object(m.a)(a))),a.setConfirm=a.setConfirm.bind(Object(m.a)(Object(m.a)(a))),a.setPassword=a.setPassword.bind(Object(m.a)(Object(m.a)(a))),a.setEmail=a.setEmail.bind(Object(m.a)(Object(m.a)(a))),a.setMobile=a.setMobile.bind(Object(m.a)(Object(m.a)(a))),a.setLocality=a.setLocality.bind(Object(m.a)(Object(m.a)(a))),a.submitRegister=a.submitRegister.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkUser",value:function(){if(""===this.state.username)return l.a.createElement(p.Help,{isColor:"danger"},"Username cannot be empty")}},{key:"checkEmail",value:function(){if(!this.email.test(this.state.email))return l.a.createElement(p.Help,{isColor:"danger"},"Invalid E-Mail Address")}},{key:"checkMobile",value:function(){if(!this.mobile.test(this.state.mobile))return l.a.createElement(p.Help,{isColor:"danger"},"Invalid Mobile Number")}},{key:"checkLocality",value:function(){return""!==this.state.locality}},{key:"checkPassword",value:function(e){switch(e){case"pass":return this.state.password.length<8?l.a.createElement(p.Help,{isColor:"danger"},"Password must be atleast 8 digits long"):"";case"confirm":return this.state.confirm===this.state.password&&this.state.password.length>=8;default:return""}}},{key:"setUser",value:function(e){this.setState({username:e.target.value})}},{key:"setEmail",value:function(e){this.setState({email:e.target.value})}},{key:"setMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"setLocality",value:function(e){this.setState({locality:e.target.value})}},{key:"setPassword",value:function(e){this.setState({password:e.target.value})}},{key:"setConfirm",value:function(e){this.setState({confirm:e.target.value})}},{key:"submitRegister",value:function(e){var t=this;if(!(Object.values(this.state).indexOf("")>=0)){var a=new URLSearchParams;a.append("json",JSON.stringify(this.state)),b.a.put("Landing",a).then(function(e){"Account Created"===e.data.message?t.props.login(t.state.username,e.data.uid):alert(e.data.message)})}}},{key:"render",value:function(){return l.a.createElement(p.Container,null,l.a.createElement("form",null,l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Username"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",placeholder:"Username",onChange:this.setUser})),this.checkUser()),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Email"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"email",placeholder:"Email",onChange:this.setEmail})),this.checkEmail()),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Mobile"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"tel",placeholder:"Mobile Number",onChange:this.setMobile})),this.checkMobile()),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Locality"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",placeholder:"Locality",onChange:this.setLocality})),!this.checkLocality()&&l.a.createElement(p.Help,{isColor:"danger"},"Locality can't be empty !")),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Password"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"password",placeholder:"Password",onChange:this.setPassword})),this.checkPassword("pass")),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Confirm Password"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"password",placeholder:"Confirm Password",onChange:this.setConfirm})),!this.checkPassword("confirm")&&l.a.createElement(p.Help,{isColor:"danger"},"Password does not match !")),l.a.createElement(p.Field,null,l.a.createElement(p.Control,null,l.a.createElement(p.Button,{isColor:"primary",onClick:this.submitRegister},"Submit")))))}}]),t}(n.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(p.Navbar,null,l.a.createElement(p.NavbarBrand,null,l.a.createElement(p.NavbarItem,null,"Easy Rentals"),l.a.createElement(p.NavbarBurger,{isActive:this.props.isActive,onClick:this.props.handler})),l.a.createElement(p.NavbarMenu,{isActive:this.props.isActive,onClick:this.props.handler},l.a.createElement(p.NavbarEnd,null,l.a.createElement(p.NavbarItem,null,l.a.createElement("a",{href:"#/"},"About Us")))))}}]),t}(n.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(p.Hero,{isColor:"info",isSize:"medium"},l.a.createElement(p.HeroHeader,null,l.a.createElement(v,{isActive:this.props.isActive,handler:this.props.handler})),l.a.createElement(p.HeroBody,null,l.a.createElement(p.Container,{hasTextAlign:"centered"},l.a.createElement(p.Title,null,"Easy Rentals - A one stop solution for all your renting problems"))),l.a.createElement(p.HeroFooter,null,l.a.createElement(p.Tabs,{isBoxed:"isBoxed",isFullWidth:"isFullWidth"},l.a.createElement(p.Container,null,l.a.createElement(p.TabList,null,l.a.createElement(p.Tab,{isActive:this.props.Login,onClick:function(t){return e.props.toggle("login",t)}},l.a.createElement(p.TabLink,null,"Login")),l.a.createElement(p.Tab,{isActive:!this.props.Login,onClick:function(t){return e.props.toggle("register",t)}},l.a.createElement(p.TabLink,null,"Register")))))))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!1,Login:!0,Register:!1},a.onClickNav=a.onClickNav.bind(Object(m.a)(Object(m.a)(a))),a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.loginOrRegister=a.loginOrRegister.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClickNav",value:function(){this.setState(function(e){return{isActive:!e.isActive,Login:!0}})}},{key:"toggle",value:function(e,t){console.log("called"),"login"===e?this.setState({Login:!0,Register:!1}):this.setState({Login:!1,Register:!0})}},{key:"loginOrRegister",value:function(){return this.state.Login?l.a.createElement(g,{login:this.props.login}):this.state.Register?l.a.createElement(E,{login:this.props.login}):void 0}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{isActive:this.state.isActive,handler:this.onClickNav,toggle:this.toggle,Login:this.state.Login}),l.a.createElement(p.Section,null,this.loginOrRegister()))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!1,txt:"Your Listings"},a.onClickNav=a.onClickNav.bind(Object(m.a)(Object(m.a)(a))),a.changeView=a.changeView.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"changeView",value:function(){"Your Listings"===this.state.txt?this.setState({txt:"All Listings"}):this.setState({txt:"Your Listings"}),this.props.showMy()}},{key:"onClickNav",value:function(){this.setState(function(e){return{isActive:!e.isActive,Login:!0}})}},{key:"render",value:function(){return l.a.createElement(p.Navbar,null,l.a.createElement(p.NavbarBrand,null,l.a.createElement(p.NavbarItem,null,"Easy Rentals"),l.a.createElement(p.NavbarBurger,{isActive:this.state.isActive,onClick:this.onClickNav})),l.a.createElement(p.NavbarMenu,{isActive:this.state.isActive,onClick:this.onClickNav},l.a.createElement(p.NavbarEnd,null,l.a.createElement(p.NavbarItem,{hasDropdown:"hasDropdown",isHoverable:"isHoverable"},l.a.createElement(p.NavbarLink,null,"Username"),l.a.createElement(p.NavbarDropdown,null,l.a.createElement(p.NavbarItem,{href:"#/"},"Interested"),l.a.createElement(p.NavbarItem,{href:"#/",onClick:this.changeView},this.state.txt),l.a.createElement(p.NavbarDivider,null),l.a.createElement(p.NavbarItem,null,l.a.createElement(p.Field,null,l.a.createElement(p.Control,null,l.a.createElement(p.Button,{isColor:"danger",onClick:this.props.logout},"Logout")))))))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setText=a.setText.bind(Object(m.a)(Object(m.a)(a))),a.edit=a.edit.bind(Object(m.a)(Object(m.a)(a))),a.delete=a.delete.bind(Object(m.a)(Object(m.a)(a))),a.contact=a.contact.bind(Object(m.a)(Object(m.a)(a))),a.interested=a.interested.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"edit",value:function(){var e={id:this.props.lid,title:this.props.title,locality:this.props.locality,description:this.props.description};console.log("defaultValues "+e),this.props.enableEdit(e)}},{key:"delete",value:function(){}},{key:"contact",value:function(){}},{key:"interested",value:function(){}},{key:"setText",value:function(){return this.props.uid===this.props.luid?l.a.createElement(p.CardFooter,null,l.a.createElement(p.CardFooterItem,{onClick:this.edit},"Edit"),l.a.createElement(p.CardFooterItem,{onClick:this.delete},"Delete")):l.a.createElement(p.CardFooter,null,l.a.createElement(p.CardFooterItem,{onClick:this.contact},"Contact"),l.a.createElement(p.CardFooterItem,{onClick:this.interested},"Interested"))}},{key:"render",value:function(){return l.a.createElement(p.Card,null,l.a.createElement(p.CardHeader,null,l.a.createElement(p.CardHeaderTitle,null,this.props.title)),l.a.createElement(p.CardImage,null,l.a.createElement(p.Image,{isRatio:"square",src:this.props.image})),l.a.createElement(p.CardContent,null,l.a.createElement(p.Content,null,this.props.description)),this.setText())}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).generateElements=a.generateElements.bind(Object(m.a)(Object(m.a)(a))),console.log("Listings : "+a.props.listings),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"generateElements",value:function(){var e=this;return 0===this.props.listings.length?l.a.createElement("p",null,"Is seems you've reached the end"):this.props.listings.length<=3?(console.log("Listings : "+this.props.listings),l.a.createElement(p.Columns,{isCentered:"isCentered"},this.props.listings.slice(0,3).map(function(t){return l.a.createElement(p.Column,{isSize:"1/4"},l.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality}))}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(p.Columns,{isCentered:"isCentered"},this.props.listings.slice(0,3).map(function(t){return l.a.createElement(p.Column,{isSize:"1/4"},l.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality}))})),l.a.createElement(p.Columns,{isCentered:"isCentered"},this.props.listings.slice(3).map(function(t){return l.a.createElement(p.Column,{isSize:"1/4"},l.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality}))})))}},{key:"render",value:function(){return l.a.createElement(p.Container,null,this.generateElements())}}]),t}(n.Component),k=a(11),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:"",locality:"",description:"",image:null},a.handleEvents=a.handleEvents.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"reset",value:function(){this.setState({title:"",locality:"",description:"",image:null})}},{key:"handleEvents",value:function(e,t){"image"!==t?this.setState(Object(k.a)({},t,e.target.value)):this.setState(Object(k.a)({},t,e.target.files[0]))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("title",this.state.title.trim()),a.append("locality",this.state.locality.trim()),a.append("description",this.state.description.trim()),null!==this.state.image&&a.append("image",this.state.image,this.state.image.name),b.a.post("Listing",a).then(function(e){"Listing Successfully Created"===e.data.message&&t.props.disable()})}},{key:"render",value:function(){var e=this;return l.a.createElement(p.Modal,{isActive:this.props.isActive},l.a.createElement(p.ModalBackground,null),l.a.createElement(p.ModalCard,null,l.a.createElement(p.ModalCardHeader,null,l.a.createElement(p.ModalCardTitle,null,"Create new listing"),l.a.createElement(p.Delete,{onClick:this.props.disable})),l.a.createElement(p.ModalCardBody,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Title"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",required:"required",onChange:function(t){return e.handleEvents(t,"title")}}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Locality"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",required:"required",onChange:function(t){return e.handleEvents(t,"locality")}}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Description"),l.a.createElement(p.Control,null,l.a.createElement(p.TextArea,{required:"required",onChange:function(t){return e.handleEvents(t,"description")}}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Image"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"file",accept:"image/*",onChange:function(t){return e.handleEvents(t,"image")}}))),l.a.createElement(p.Field,{isGrouped:!0},l.a.createElement(p.Control,null,l.a.createElement(p.Button,{type:"submit",isColor:"success"},"Save")),l.a.createElement(p.Control,null,l.a.createElement(p.Button,{type:"reset",isColor:"warning",onClick:this.reset},"Cancel")))))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:a.props.default.title,locality:a.props.default.locality,description:a.props.default.description,image:null},a.handleEvents=a.handleEvents.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"reset",value:function(){this.setState({title:this.props.default.title,locality:this.props.default.locality,description:this.props.default.description,image:null})}},{key:"handleEvents",value:function(e,t){"image"!==t?this.setState(Object(k.a)({},t,e.target.value)):this.setState(Object(k.a)({},t,e.target.files[0]))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("id",this.props.default.id);for(var n=Object.keys(this.state),l=0;l<n.length;l++){var i=n[l];"image"!==i&&this.state[[i]]!==this.props.default[[i]]&&a.append([i],this.state[[i]].trim())}null!==this.state.image&&a.append("image",this.state.image,this.state.image.name),b.a.post("Listing",a).then(function(e){"Listing Successfully Updated"===e.data.message&&t.props.disable()})}},{key:"render",value:function(){var e=this;return l.a.createElement(p.Modal,{isActive:this.props.isActive},l.a.createElement(p.ModalBackground,null),l.a.createElement(p.ModalCard,null,l.a.createElement(p.ModalCardHeader,null,l.a.createElement(p.ModalCardTitle,null,"Edit listing"),l.a.createElement(p.Delete,{onClick:this.props.disable})),l.a.createElement(p.ModalCardBody,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Edit Title"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",onChange:function(t){return e.handleEvents(t,"title")},value:this.state.title||""}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Edit Locality"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",onChange:function(t){return e.handleEvents(t,"locality")},value:this.state.locality||""}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Edit Description"),l.a.createElement(p.Control,null,l.a.createElement(p.TextArea,{onChange:function(t){return e.handleEvents(t,"description")},value:this.state.description||""}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Upload new image"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"file",accept:"image/*",onChange:function(t){return e.handleEvents(t,"image")}}))),l.a.createElement(p.Field,{isGrouped:!0},l.a.createElement(p.Control,null,l.a.createElement(p.Button,{type:"submit",isColor:"success"},"Update")),l.a.createElement(p.Control,null,l.a.createElement(p.Button,{type:"reset",isColor:"warning",onClick:this.reset},"Cancel")))))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,edit:!1,defaultValues:{}},a.enableEdit=a.enableEdit.bind(Object(m.a)(Object(m.a)(a))),a.disable=a.disable.bind(Object(m.a)(Object(m.a)(a))),a.disableEdit=a.disableEdit.bind(Object(m.a)(Object(m.a)(a))),a.enable=a.enable.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"enableEdit",value:function(e){this.state.defaultValues=e,this.setState({edit:!0})}},{key:"disable",value:function(){this.props.trigger(),this.setState({modal:!1})}},{key:"disableEdit",value:function(){this.props.trigger(),this.setState({edit:!1})}},{key:"enable",value:function(){this.setState({modal:!0})}},{key:"render",value:function(){return l.a.createElement(p.Container,null,l.a.createElement(p.Section,null,l.a.createElement(p.Level,null,l.a.createElement(p.LevelLeft,null,l.a.createElement(p.LevelItem,null,l.a.createElement(p.Field,{hasAddons:!0},l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"text",placeholder:"Search by Locality"})),l.a.createElement(p.Control,null,l.a.createElement(p.Button,null,"Search"))))),l.a.createElement(p.LevelRight,null,l.a.createElement(p.LevelItem,null,l.a.createElement(p.Field,null,l.a.createElement(p.Control,null,l.a.createElement(p.Button,{isColor:"success",onClick:this.enable},"Add a Listing")))))),l.a.createElement("hr",null)),l.a.createElement(p.Section,null,l.a.createElement(L,{isActive:this.state.modal,disable:this.disable}),this.state.edit&&l.a.createElement(w,{isActive:this.state.edit,disable:this.disableEdit,default:this.state.defaultValues}),l.a.createElement(y,{listings:this.props.listings,uid:this.props.uid,enableEdit:this.enableEdit})))}}]),t}(n.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(p.Pagination,null,l.a.createElement(p.PageControl,{onClick:this.props.prev},"Previous"),l.a.createElement(p.PageControl,{onClick:this.props.next},"Next"))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={listings:[],currentFrameIndex:0,showMy:!1,currentFrame:[]},a.getListings=a.getListings.bind(Object(m.a)(Object(m.a)(a))),a.setFrame=a.setFrame.bind(Object(m.a)(Object(m.a)(a))),a.nextFrame=a.nextFrame.bind(Object(m.a)(Object(m.a)(a))),a.prevFrame=a.prevFrame.bind(Object(m.a)(Object(m.a)(a))),a.showMy=a.showMy.bind(Object(m.a)(Object(m.a)(a))),a.getListings(),a.setFrame(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"showMy",value:function(){this.getListings(),this.setState(function(e){return{showMy:!e.showMy}})}},{key:"setFrame",value:function(){var e=this.state.listings.slice(this.state.currentFrameIndex,this.state.currentFrameIndex+6);this.setState({currentFrame:e})}},{key:"nextFrame",value:function(){this.getListings(),this.state.currentFrameIndex+6>=this.state.listings.length||this.setState(function(e){return{currentFrameIndex:e.currentFrameIndex+6}})}},{key:"prevFrame",value:function(){this.getListings(),this.state.currentFrameIndex-6<0||this.setState(function(e){return{currentFrameIndex:e.currentFrameIndex-6}})}},{key:"getListings",value:function(){var e=this;if(this.state.showMy){var t=new FormData;t.append("showMy","true"),b.a.get("Listing",t).then(function(t){e.setState({listings:JSON.parse(t.data.listings)}),e.setFrame()})}else b.a.get("Listing").then(function(t){e.setState({listings:JSON.parse(t.data.listings)}),e.setFrame(),I.forceUpdate()})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{logout:this.props.logout,showMy:this.showMy}),l.a.createElement(p.Section,null,l.a.createElement(I,{listings:this.state.currentFrame,trigger:this.getListings,uid:this.props.uid})),l.a.createElement(p.Section,null,l.a.createElement(S,{next:this.nextFrame,prev:this.prevFrame})))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:!1,uname:"",uid:""},a.logIn=a.logIn.bind(Object(m.a)(Object(m.a)(a))),a.logOut=a.logOut.bind(Object(m.a)(Object(m.a)(a))),a.isLoggedIn=a.isLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a.checkIfLoggedIn=a.checkIfLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a.checkIfLoggedIn(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkIfLoggedIn",value:function(){var e=this;b.a.get("User").then(function(t){void 0===t.data.id?e.setState({loggedIn:!1}):e.logIn(t.data.username,t.data.id)})}},{key:"isLoggedIn",value:function(){return this.state.loggedIn?l.a.createElement(F,{logout:this.logOut,uid:this.state.uid}):l.a.createElement(f,{login:this.logIn})}},{key:"logIn",value:function(e,t){this.setState({loggedIn:!0,uname:e,uid:t})}},{key:"logOut",value:function(){this.setState({loggedIn:!1,uname:"",uid:""})}},{key:"render",value:function(){return l.a.createElement("div",null,this.isLoggedIn())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.f57d7afb.chunk.js.map